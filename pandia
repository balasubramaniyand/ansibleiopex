Building server
[+] Building 10.8s (12/16)                                                                                          docker:default
 => [internal] load build definition from Dockerfile                                                                          0.0s
 => => transferring dockerfile: 1.09kB                                                                                        0.0s
 => [internal] load metadata for docker.io/library/python:3.11-slim                                                           0.7s
 => [internal] load .dockerignore                                                                                             0.0s
 => => transferring context: 2B                                                                                               0.0s
 => [ 1/12] FROM docker.io/library/python:3.11-slim@sha256:5501a4fe605abe24de87c2f3d6cf9fd760354416a0cad0296cf284fddcdca9e2   0.0s
 => [internal] load build context                                                                                             0.0s
 => => transferring context: 7.41kB                                                                                           0.0s
 => CACHED [ 2/12] WORKDIR /app                                                                                               0.0s
 => CACHED [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     build-essential     curl     make     0.0s
 => CACHED [ 4/12] RUN curl -sSL https://install.python-poetry.org | python3 -                                                0.0s
 => CACHED [ 5/12] RUN apt-get update && apt-get install netcat-openbsd -y                                                    0.0s
 => CACHED [ 6/12] COPY . /app                                                                                                0.0s
 => CACHED [ 7/12] RUN poetry lock --no-update                                                                                0.0s
 => ERROR [ 8/12] RUN poetry install --no-root                                                                               10.1s
------                                                                                                                             
 > [ 8/12] RUN poetry install --no-root:                                                                                           
0.714 Installing dependencies from lock file                                                                                       
0.970                                                                                                                              
0.970 Package operations: 81 installs, 1 update, 0 removals                                                                        
0.970                                                                                                                              
0.970   - Installing idna (3.7)
0.971   - Installing sniffio (1.3.1)
1.280   - Installing anyio (4.4.0)
1.281   - Installing certifi (2024.7.4)
1.281   - Installing h11 (0.14.0)
1.474   - Installing httpcore (0.16.3)
1.475   - Installing numpy (1.26.4)
1.475   - Installing rfc3986 (1.5.0)
1.476   - Installing six (1.16.0)
1.476   - Installing typing-extensions (4.12.2)
2.822   - Installing charset-normalizer (3.3.2)
2.823   - Installing contourpy (1.2.1)
2.824   - Installing cycler (0.12.1)
2.825   - Installing fonttools (4.53.1)
2.826   - Installing greenlet (3.0.3)
2.826   - Installing iniconfig (2.0.0)
2.827   - Installing kiwisolver (1.4.5)
2.834   - Installing distro (1.9.0)
2.837   - Installing markupsafe (2.1.5)
2.838   - Installing httpx (0.23.3)
2.839   - Installing packaging (24.1)
2.858   - Installing parse (1.20.2)
2.863   - Installing pillow (10.4.0)
2.864   - Installing pluggy (1.5.0)
2.866   - Installing pyasn1 (0.6.0)
2.869   - Installing pycparser (2.22)
2.872   - Installing pydantic (1.10.17)
2.876   - Installing pyparsing (3.1.2)
2.878   - Installing python-dateutil (2.9.0.post0)
2.879   - Installing pytz (2024.1)
2.950   - Installing sqlglotrs (0.2.8)
2.957   - Installing starlette (0.25.0)
2.979   - Installing tqdm (4.66.4)
3.113   - Installing urllib3 (2.2.2)
3.878   - Installing astor (0.8.1)
3.879   - Installing astroid (3.2.2)
3.879   - Installing async-timeout (4.0.3)
3.880   - Installing cffi (1.16.0)
3.885   - Installing dill (0.3.8)
3.886   - Installing duckdb (0.10.3)
3.888   - Installing ecdsa (0.19.0)
3.895   - Installing fastapi (0.92.0)
3.895   - Installing jinja2 (3.1.4)
3.899   - Installing matplotlib (3.9.1)
3.903   - Installing dnspython (2.6.1)
3.906   - Installing openai (1.35.12)
3.918   - Installing parse-type (0.6.2)
3.919   - Installing click (8.1.7)
3.921   - Installing mako (1.3.5)
3.922   - Installing mypy-extensions (1.0.0)
3.923   - Installing faker (19.13.0)
3.928   - Installing mccabe (0.7.0)
3.930   - Installing isort (5.13.2)
3.934   - Installing pandas (1.5.3)
4.012   - Installing pathspec (0.12.1)
4.053   - Installing platformdirs (4.2.2)
4.173   - Installing pytest (7.4.4)
4.175   - Installing python-dotenv (1.0.1)
4.185   - Installing requests (2.32.3)
4.215   - Installing rsa (4.9)
4.220   - Installing scipy (1.14.0)
4.233   - Downgrading setuptools (75.1.0 -> 70.3.0)
4.241   - Installing sqlalchemy (2.0.31)
4.264   - Installing sqlglot (25.5.1)
4.268   - Installing tomlkit (0.12.5)
7.574   - Installing alembic (1.13.2)
7.575   - Installing asyncpg (0.29.0)
7.575   - Installing bcrypt (3.1.7)
7.577   - Installing behave (1.2.6)
7.584   - Installing black (23.12.1)
7.585   - Installing email-validator (1.3.1)
7.586   - Installing gunicorn (20.1.0)
7.588   - Installing pandasai (2.2.10)
7.594   - Installing fastapi-event (0.1.3)
7.600   - Installing passlib (1.7.4)
7.603   - Installing psycopg2 (2.9.9)
7.607   - Installing pylint (3.2.5)
7.607   - Installing python-jose (3.3.0)
7.613   - Installing pytest-asyncio (0.20.3)
7.615   - Installing pyyaml (6.0.1)
7.616   - Installing uvicorn (0.20.0)
7.618   - Installing python-multipart (0.0.9)
9.394 
9.394   ChefBuildError
9.394 
9.394   Backend subprocess exited when trying to invoke get_requires_for_build_wheel
9.394   
9.394   running egg_info
9.394   writing psycopg2.egg-info/PKG-INFO
9.394   writing dependency_links to psycopg2.egg-info/dependency_links.txt
9.394   writing top-level names to psycopg2.egg-info/top_level.txt
9.394   
9.394   Error: pg_config executable not found.
9.394   
9.394   pg_config is required to build psycopg2 from source.  Please add the directory
9.394   containing pg_config to the $PATH or specify the full executable path with the
9.394   option:
9.394   
9.394       python setup.py build_ext --pg-config /path/to/pg_config build ...
9.394   
9.394   or with the pg_config option in 'setup.cfg'.
9.394   
9.394   If you prefer to avoid building psycopg2 from source, please install the PyPI
9.394   'psycopg2-binary' package instead.
9.394   
9.394   For further information please check the 'doc/src/install.rst' file (also at
9.394   <https://www.psycopg.org/docs/install.html>).
9.394   
9.394   
9.394 
9.394   at ~/.local/share/pypoetry/venv/lib/python3.11/site-packages/poetry/installation/chef.py:164 in _prepare
9.403       160│ 
9.403       161│                 error = ChefBuildError("\n\n".join(message_parts))
9.403       162│ 
9.403       163│             if error is not None:
9.403     → 164│                 raise error from None
9.403       165│ 
9.403       166│             return path
9.403       167│ 
9.403       168│     def _prepare_sdist(self, archive: Path, destination: Path | None = None) -> Path:
9.404 
9.404 Note: This error originates from the build backend, and is likely not a problem with poetry but with psycopg2 (2.9.9) not supporting PEP 517 builds. You can verify this by running 'pip wheel --no-cache-dir --use-pep517 "psycopg2 (==2.9.9)"'.
9.404 
9.641 Warning: The file chosen for install of matplotlib 3.9.1 (matplotlib-3.9.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl) is yanked. Reason for being yanked: The Windows wheels, under some conditions, caused segfaults in unrelated user code.  Due to this we deleted the Windows wheels to prevent these segfaults, however this caused greater disruption as pip then began to try (and fail) to build 3.9.1 from the sdist on Windows which impacted far more users.  Yanking the whole release is the only tool available to eliminate these failures without changes to on the user side.  The sdist, OSX wheel, and manylinux wheels are all functional and there are no critical bugs in the release.   Downstream packagers should not yank their builds of Matplotlib 3.9.1.  See https://github.com/matplotlib/matplotlib/issues/28551 for details.
------
Dockerfile:29
--------------------
  27 |     
  28 |     # Install Python dependencies
  29 | >>> RUN poetry install --no-root
  30 |     
  31 |     # Add wait-for-it.sh script to the container
--------------------
ERROR: failed to solve: process "/bin/sh -c poetry install --no-root" did not complete successfully: exit code: 1
ERROR: Service 'server' failed to build : Build failed
root@cio-ai:/var/opt/pandas-ai# 
